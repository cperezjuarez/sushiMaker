<!-- NAV -->
<app-header-layout></app-header-layout>

<!-- FORMULARIO -->
<section class="container mt-5">
  <h1 class="text-center text-light mb-5 display-4">üç£ Crea de tu Sushi</h1>

  <form class="p-4 bg-dark border border-secondary rounded shadow text-light mx-auto"
    style="max-width: 700px; width: 100%;" (ngSubmit)="crearPedido()">
    <!-- BASES -->
    <fieldset class="mb-4">
      <legend class="h5 mb-3">Bases</legend>
      <select class="form-select bg-dark text-light" [(ngModel)]="baseSelec" name="base">
        <option *ngFor="let base of this.bases" [ngValue]="base">{{ base.getNombre() }}</option>
      </select>
    </fieldset>

    <!-- TOPPINGS -->
    <div class="d-flex justify-content-evenly">
      <fieldset class="mb-4">
        <legend class="h5 mb-3">Toppings</legend>
        <div class="form-check mb-2" *ngFor="let topping of this.toppings">
          <input class="form-check-input" type="checkbox" id="{{topping.getNombre()}}" name="{{topping.getNombre()}}"
            (change)="toggleTopping(topping, $event)">
          <label class="form-check-label text-light" for="{{topping.getNombre()}}">{{topping.getNombre()}}</label>
        </div>
      </fieldset>

      <!-- EXTRAS -->
      <fieldset class="mb-4">
        <legend class="h5 mb-3">Extras</legend>
        <div class="form-check mb-2" *ngFor="let extra of this.extras">
          <input class="form-check-input" type="checkbox" id="{{extra.getNombre()}}" name="{{extra.getNombre()}}"
            (change)="toggleExtra(extra, $event)">
          <label class="form-check-label text-light" for="{{extra.getNombre()}}">{{extra.getNombre()}}</label>
        </div>
      </fieldset>

      <!-- Sauces -->
      <fieldset class="mb-4">
        <legend class="h5 mb-3">Sauces</legend>
        <div class="form-check mb-2" *ngFor="let sauce of this.sauces">
          <input class="form-check-input" type="checkbox" id="{{sauce.getNombre()}}" name="{{sauce.getNombre()}}"
            (change)="toggleSauce(sauce, $event)">
          <label class="form-check-label text-light" for="{{sauce.getNombre()}}">{{sauce.getNombre()}}</label>
        </div>
      </fieldset>
    </div>

    <input type="submit" class="btn btn-success w-100">
  </form>
</section>

<!-- PREVIEW -->
<section class="container py-5">
  <h1 class="text-center text-light mb-5 display-4">üç£ Preview de tu Sushi</h1>

  <!-- Card para la base -->
  <div class="card bg-dark text-light mb-4 shadow mx-auto" style="max-width: 600px;">
    <div class="card-header fs-4 text-center">Base</div>
    <div class="card-body text-center fs-5">
      {{ baseSelec?.getNombre() || 'No seleccionada' }}
    </div>
  </div>

  <!-- Card para toppings -->
  <div class="card bg-dark text-light mb-4 shadow mx-auto" style="max-width: 600px;">
    <div class="card-header fs-4 text-center">Toppings</div>
    <ul class="list-group list-group-flush">
      <li class="list-group-item bg-transparent text-light" *ngFor="let topping of toppingsSelec">
        {{ topping.getNombre() }}
        <span class="badge bg-info rounded-pill float-end">{{ topping.getCategoria() }}</span>
      </li>
      <li *ngIf="toppingsSelec.length == 0" class="list-group-item bg-transparent text-light text-center">
        No seleccionados
      </li>
    </ul>
  </div>

  <!-- Card para extras -->
  <div class="card bg-dark text-light mb-4 shadow mx-auto" style="max-width: 600px;">
    <div class="card-header fs-4 text-center">Extras</div>
    <ul class="list-group list-group-flush">
      <li class="list-group-item bg-transparent text-light" *ngFor="let extra of extrasSelec">
        {{ extra.getNombre() }}
        <span class="badge bg-success rounded-pill float-end">{{ extra.getCategoria() }}</span>
      </li>
      <li *ngIf="extrasSelec.length == 0" class="list-group-item bg-transparent text-light text-center">
        No seleccionados
      </li>
    </ul>
  </div>

  <!-- Card para sauces -->
  <div class="card bg-dark text-light mb-4 shadow mx-auto" style="max-width: 600px;">
    <div class="card-header fs-4 text-center">Salsas</div>
    <ul class="list-group list-group-flush">
      <li class="list-group-item bg-transparent text-light" *ngFor="let sauce of saucesSelec">
        {{ sauce.getNombre() }}
        <span class="badge bg-warning text-dark rounded-pill float-end">{{ sauce.getCategoria() }}</span>
      </li>
      <li *ngIf="saucesSelec.length == 0" class="list-group-item bg-transparent text-light text-center">
        No seleccionadas
      </li>
    </ul>
  </div>
</section>